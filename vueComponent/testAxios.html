<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
    <script>
        // axios基本使用
        // 函数用法以及对象用法
        
        

        async function sendAjax(){
            try {
                const result = await axios({
            url:'https://api.github.com/search/repositories',
            //  /8也是一个参数,真正的params参数
            
            method:'GET',
            params:{
                // params参数对应的是我们所说的query参数,url查询参数 ?key=value
                // username='zhaoliying'
                q:'v',
                sort:'stars'
            },
            // data:{
            //     // data参数对应的是请求体参数
            // }
            })
            console.log(result.data)
            } catch (error) {
                console.log(error.message)
            }
        }
            
        // }).then(response=>{
        //     console.log(response.data)
        // }).catch(error=>{
        //     console.log(error.message)
        // })
        // }
        sendAjax()

        /*
            async函数返回值一定是Promise
            返回的promise成功还是失败看这个函数的返回值

            没有return 返回undefinedh

            返回值分两种情况:返回值返回的是promise,要么就是一个数据,要么就是throw一个ERROR
            如果返回的是一个promise,那么这个async函数返回的promise成功还是失败就看这个promise的状态
            如果是一个ERROR,那么就是失败的
            其余都是成功的
            undefined 成功
        */
    </script>
</body>
</html>